============================= test session starts =============================
platform win32 -- Python 3.13.0, pytest-9.0.2, pluggy-1.6.0 -- C:\Users\EthaN\AppData\Local\pypoetry\Cache\virtualenvs\shuren-backend-9oCQo8rF-py3.13\Scripts\python.exe
cachedir: .pytest_cache
hypothesis profile 'default'
rootdir: C:\Users\EthaN\Desktop\shuren AI\backend
configfile: pyproject.toml
testpaths: tests
plugins: anyio-4.12.1, hypothesis-6.151.4, langsmith-0.6.8, asyncio-1.3.0, cov-7.0.0
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=function, asyncio_default_test_loop_scope=function
collecting ... collected 390 items

tests/test_auth_endpoints.py::TestRegisterEndpoint::test_register_success PASSED [  0%]
tests/test_auth_endpoints.py::TestRegisterEndpoint::test_register_duplicate_email PASSED [  0%]
tests/test_auth_endpoints.py::TestRegisterEndpoint::test_register_invalid_email PASSED [  0%]
tests/test_auth_endpoints.py::TestRegisterEndpoint::test_register_short_password PASSED [  1%]
tests/test_auth_endpoints.py::TestLoginEndpoint::test_login_success PASSED [  1%]
tests/test_auth_endpoints.py::TestLoginEndpoint::test_login_invalid_email PASSED [  1%]
tests/test_auth_endpoints.py::TestLoginEndpoint::test_login_invalid_password PASSED [  1%]
tests/test_auth_endpoints.py::TestLoginEndpoint::test_login_oauth_user_without_password PASSED [  2%]
tests/test_auth_endpoints.py::TestGoogleAuthEndpoint::test_google_auth_new_user PASSED [  2%]
tests/test_auth_endpoints.py::TestGoogleAuthEndpoint::test_google_auth_existing_user PASSED [  2%]
tests/test_auth_endpoints.py::TestGoogleAuthEndpoint::test_google_auth_invalid_token PASSED [  2%]
tests/test_auth_endpoints.py::TestGetMeEndpoint::test_get_me_success PASSED [  3%]
tests/test_auth_endpoints.py::TestGetMeEndpoint::test_get_me_no_token PASSED [  3%]
tests/test_auth_endpoints.py::TestGetMeEndpoint::test_get_me_invalid_token PASSED [  3%]
tests/test_chat_endpoints.py::TestChatEndpoint::test_chat_success PASSED [  3%]
tests/test_chat_endpoints.py::TestChatEndpoint::test_chat_with_agent_type PASSED [  4%]
tests/test_chat_endpoints.py::TestChatEndpoint::test_chat_invalid_agent_type PASSED [  4%]
tests/test_chat_endpoints.py::TestChatEndpoint::test_chat_validation_error PASSED [  4%]
tests/test_chat_endpoints.py::TestChatStreamEndpoint::test_stream_success PASSED [  4%]
tests/test_chat_endpoints.py::TestGetHistoryEndpoint::test_get_history_success PASSED [  5%]
tests/test_chat_endpoints.py::TestGetHistoryEndpoint::test_get_history_with_limit PASSED [  5%]
tests/test_chat_endpoints.py::TestGetHistoryEndpoint::test_get_history_empty PASSED [  5%]
tests/test_chat_endpoints.py::TestDeleteHistoryEndpoint::test_delete_history_success PASSED [  5%]
tests/test_chat_endpoints.py::TestChatEndpointsAuthentication::test_chat_requires_authentication PASSED [  6%]
tests/test_chat_endpoints.py::TestChatEndpointsAuthentication::test_history_requires_authentication PASSED [  6%]
tests/test_chat_endpoints.py::TestChatEndpointsAuthentication::test_delete_history_requires_authentication PASSED [  6%]
tests/test_chat_properties.py::TestMessagePersistenceCompleteness::test_message_persistence_after_successful_chat 